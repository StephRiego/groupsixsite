{% extends "layout/base.html" %}

{% block title %}Change Password{% endblock %}

{% block content %}
<div class="p-4 max-w-md mx-auto mt-10 bg-white rounded shadow">

  <h2 class="text-xl font-semibold mb-4">Change Password for {{ user.username }}</h2>

  <!-- Display messages -->
  {% if messages %}
    <ul class="mb-4">
      {% for message in messages %}
        <li
          class="p-2 mb-2 rounded
          {% if message.tags == 'error' %}bg-red-200 text-red-800{% elif message.tags == 'success' %}bg-green-200 text-green-800{% else %}bg-gray-200{% endif %}">
          {{ message }}
        </li>
      {% endfor %}
    </ul>
  {% endif %}

  <form method="post">
    {% csrf_token %}
    
    <div class="mb-4">
      <label for="new_password" class="block font-medium mb-1">New Password</label>
      <input
        type="password"
        id="new_password"
        name="new_password"
        required
        class="w-full border px-3 py-2 rounded"
        placeholder="Enter new password"
      />
    </div>
    
    <div class="mb-4">
      <label for="confirm_password" class="block font-medium mb-1">Confirm New Password</label>
      <input
        type="password"
        id="confirm_password"
        name="confirm_password"
        required
        class="w-full border px-3 py-2 rounded"
        placeholder="Confirm new password"
      />
    </div>
    
    <button
      type="submit"
      class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition"
    >
      Change Password
    </button>
    
    <a href="{% url 'user_list' %}" class="ml-4 text-blue-600 hover:underline">Cancel</a>
  </form>
</div>
{% endblock %}
